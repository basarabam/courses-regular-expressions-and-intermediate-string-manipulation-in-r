---
title: Insert title here
key: b830b2075b68dfb75dfcbf2e59156135

---
## 2.4. Replacing strings using regular expressions

```yaml
type: "TitleSlide"
key: "9d82d87138"
```

`@lower_third`

name: Milos Basaraba
title: Data Scientist


`@script`
Welcome back!
In the last section of this chapter it's time to learn and practice how to apply string replacement to a real world problems, with Regular Expressions.
String replacement might save you a lot of time, especially in combination with regular expressions.


---
## Stringr

```yaml
type: "FullSlide"
key: "53619ffa4f"
code_zoom: 93
```

`@part1`
```str_replace()``` and ```str_replace_all()``` {{0}}

``` 
str <- c("football", "basketball", "tennis", “voleyball“)
pattern = "[aeiou]"
replace = "_"
str_replace(x, "[aeiou]", "_")
```{{1}}

```
[1] "f_otball"   "b_sketball" "t_nnis"     "v_leyball"
```{{2}}

``` 
str_replace_all(str, "[aeiou]", "_")
``` {{3}}

```[1] "f__tb_ll"   "b_sk_tb_ll" "t_nn_s"     "v_l_yb_ll"
```{{4}}


`@script`



---
## Negation

```yaml
type: "FullSlide"
key: "35c11a48ab"
code_zoom: 87
```

`@part1`
- **Negation**  ```[^...]```{{1}}
- Leading ```^``` negates the list ```[...]```{{2}}
- Don't mix up with start of the line caret ```^```{{3}}
- Totaly different meaning in the list ```[^...]```{{4}}
- Only when it is immediately after the class's opening bracket {{5}}
```
> str_replace(str, "[^aeiou]", "_")
[1] "_ootball"   "_asketball" "_ennis"     "_oleyball"{{6}}
```

```
> str_replace_all(str, "[^aeiou]", "_")
[1] "_oo__a__"   "_a__e__a__" "_e__i_"     "_o_e__a__"
```{{7}}


`@script`



---
## Multiple replacements

```yaml
type: "FullSlide"
key: "fe76ca9ba0"
code_zoom: 60
```

`@part1`
With ```str_replace_all()``` you can perform multiple replacements by **supplying a named vector**{{1}}
```
str <- c("4 friends", "2 bars", "30 beers", "4 hangovers")
str_replace_all(str, c("4" = "four", "2" = "two", "30" = "thirty", "4" = "hangovers"))
```{{2}}

```
[1] "four friends"   "two bars"       "thirty beers"   "four hangovers"
```{{3}}


`@script`



---
## Inserting components of the match

```yaml
type: "FullSlide"
key: "4de64cc29d"
code_zoom: 80
```

`@part1`
Instead of replacing with a fixed string, you can use **backreferences** to insert components of the match. In the following code example, the order of the second and third words is flipped{{1}}
```
sentences <- c("The canoe birch slid on the smooth planks." 
, "Glue sheet the to the dark blue background."
, "It's to easy tell the depth of a well.")

str_replace(sentences, "([^ ]+) ([^ ]+) ([^ ]+)", "\\1 \\3 \\2")
```{{2}}

```
[1] "The birch canoe slid on the smooth planks."
[2] "Glue the sheet to the dark blue background."
[3] "It's easy to tell the depth of a well."
```{{3}}


`@script`
In the following code example, the order of the second and third words is flipped


---
## Let's practice!

```yaml
type: "FinalSlide"
key: "a7ec146d9b"
```

`@script`
See you in the next chapter after you successfully do the practical exercises. Happy stringing

